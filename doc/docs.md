Хук AfterCreate - это специальный метод, который автоматически вызывается GORM после создания новой записи в базе данных. В этом случае, мы определили хук AfterCreate для структуры User, который создает новую запись в таблице ProgressClicker после создания новой записи в таблице User.

Когда мы создаем новую запись в таблице User с помощью database.DB.Create(&user), GORM автоматически вызывает хук AfterCreate для этой структуры. Это происходит потому, что мы определили хук AfterCreate для структуры User, и GORM знает, что он должен быть вызван после создания новой записи.

В нашем примере, хук AfterCreate создает новую запись в таблице ProgressClicker с default значениями (UserId равен ID только что созданной записи в таблице User, а Clicks равен 0). Это происходит автоматически, без необходимости явно вызывать хук в коде.

Таким образом, хук AfterCreate работает как бы "в тени", автоматически выполняя дополнительные действия после создания новой записи в базе данных. Это позволяет упростить код и сделать его более эффективным.

